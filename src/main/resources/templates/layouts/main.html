<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <meta charset="utf-8">
    <title layout:title-pattern="$LAYOUT_TITLE - $CONTENT_TITLE">Bienvenue à L'épicerie de l'houmeau</title>

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

    <!-- Styles internes -->
    <style>
        /* Styles pour que le panier soit positionné fixe tout à droite */
                body {
                    display: flex;
                    flex-direction: column;
                    min-height: 100vh;
                    margin: 0;
                }

                .container.flex-grow-1 {
                    flex-grow: 1;
                    margin-right: 20%; /* Ajout de la marge pour laisser de l'espace à la div "panier" */
                    position: relative; /* Position relative pour z-index */
                    border: 1px solid #d3d3d3; border-radius: 5px;
                }

                .panier {
                    position: fixed;
                    top: 50px; /* Réglez cette valeur en fonction de la hauteur de votre header */
                    right: 0;
                    margin-top:5px;
                    background-color: red;
                    width: 20%;
                    max-height: calc(100% - 50px - 10px); /* 50px pour le header, 10px pour la marge du panier */
                    padding: 10px;
                    border: 1px solid #d3d3d3;
                    border-radius: 5px;
                    z-index: 1; /* Assurez-vous que le panier est en arrière-plan par rapport au contenu */
                    overflow-y: auto; /* Ajout d'une barre de défilement si nécessaire */
                }

                /* Styles pour diviser la page en deux parties */
                /* Ajoutez ces styles pour le "sticky footer" */
.page-container {
  min-height: 100vh;
  display: flex;
  flex-direction: column;
}

/* Ajoutez ces styles pour que la content-container s'étende jusqu'au haut du footer */
.content-container {
  flex-grow: 1;
  display: flex;
  flex-direction: column;
  overflow: auto;
  position: relative;
  z-index: 2;
  margin-bottom: 0; /* Ajoutez cette ligne pour supprimer la marge inférieure */
  min-height: calc(100vh - 20px); /* Ajustez la valeur en fonction de la hauteur du footer */
}


.container.flex-grow-1 {
  flex-grow: 1;
}

/* Style du footer */
.page-footer {
  padding: 20px; /* Ajoutez la marge intérieure désirée */
  background-color: #f8f9fa; /* Couleur de fond du footer */
  text-align: center;
  position: sticky;
  bottom: 0;
  z-index: 3; /* Assurez-vous que le footer est au-dessus de tout */
}

    </style>

    <th:block layout:fragment="css"></th:block>
</head>

<body>
<div class="page-container">
    <!-- Header -->
    <div th:replace="~{fragments/header :: header}"></div>

    <!-- Contenu principal -->
    <div class="content-container">
        <div class="container flex-grow-1" layout:fragment="content"></div>
    </div>
    <!-- Panier -->
    <div layout:fragment="panier" class="panier"></div>
    <!-- Footer -->
    <div class="page-footer">
        <div th:replace="~{fragments/footer :: footer}"></div>
    </div>
</div>

<!-- jQuery (Nécessaire pour les fonctionnalités JavaScript de Bootstrap) -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<!-- Popper.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>

<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>

<!-- Script personnalisé -->
<script src="/js/script.js"></script>

<th:block layout:fragment="scripts"></th:block>
</body>

</html>
