<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.mx/thymeleaf/layout">

    <head>
        <meta charset="utf-8">
        <title layout:title-pattern="$LAYOUT_TITLE - $CONTENT_TITLE">Bienvenue à L'épicerie de l'houmeau.</title>

        <!-- Bootstrap CSS -->
        <link rel="stylesheet"
              href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
              integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
              crossorigin="anonymous">
        <!-- Font Awesome -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">

        <th:block layout:fragment="css">
            <style>
                /* Styles pour que le panier soit positionné fixe tout à droite */
                body {
                    display: flex;
                    flex-direction: column;
                    min-height: 100vh;
                    margin: 0;
                }

                .container.flex-grow-1 {
                    flex-grow: 1;
                    margin-right: 20%; /* Ajout de la marge pour laisser de l'espace à la div "panier" */
                    position: relative; /* Position relative pour z-index */
                    border: 1px solid #d3d3d3; border-radius: 5px;
                }

                .panier {
                    position: fixed;
                    top: 50px; /* Réglez cette valeur en fonction de la hauteur de votre header */
                    right: 0;
                    background-color: red;
                    width: 20%;
                    max-height: calc(100% - 50px - 10px); /* 50px pour le header, 10px pour la marge du panier */
                    padding: 10px;
                    border: 1px solid #d3d3d3;
                    border-radius: 5px;
                    z-index: 1; /* Assurez-vous que le panier est en arrière-plan par rapport au contenu */
                    overflow-y: auto; /* Ajout d'une barre de défilement si nécessaire */
                }

                /* Styles pour diviser la page en deux parties */
                .page-container {
                    display: flex;
                    flex-direction: column; /* Changez la direction en colonne pour empiler le header et le contenu */
                    height: 100%;
                }

                .content-container {
                    flex-grow: 1;
                    display: flex;
                    flex-direction: column;
                    overflow: auto; /* Ajout de la barre de défilement si le contenu dépasse */
                    position: relative;
                    z-index: 2; /* Assurez-vous que le contenu est au-dessus du panier */
                }
            </style>
        </th:block>
    </head>

    <body>
        <div class="page-container">
            <div class="content-container">
                <div th:replace="~{fragments/header :: header}">Header here</div>
                <div class="container flex-grow-1" layout:fragment="content">Main content will be inserted here.</div>
                <div th:replace="~{fragments/footer :: footer}">&copy; 2016 The Static Templates</div>
            </div>
            <div layout:fragment="panier" class="panier"></div>
        </div>

        <!-- Bootstrap JS, Popper.js, and jQuery -->
        <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

        <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
                integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
                crossorigin="anonymous">
        </script>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
                integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
                crossorigin="anonymous">
        </script>

        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
                integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
                crossorigin="anonymous">
        </script>

        <th:block layout:fragment="scripts"></th:block>
    </body>

</html>
